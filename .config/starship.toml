# Starship Configuration
# Migrated from Powerlevel10k on 2025-11-09
# Based on p10k lean style with 2-line prompt

# General prompt format
format = """
[‚îå‚îÄ](dimmed)\
$directory\
$git_branch\
$git_commit\
$git_state\
$git_metrics\
$git_status\
[‚îÄ](dimmed)\
$status\
$cmd_duration\
$jobs\
$direnv\
$python\
$nodejs\
$golang\
$rust\
$ruby\
$lua\
$java\
$perl\
$haskell\
$kubernetes\
$terraform\
$aws\
$gcloud\
$azure\
$env_var\
$container\
$nix_shell\
$line_break\
[‚îî‚îÄ](dimmed)$character"""

# Add newline before prompt
add_newline = true

# Character module (prompt symbol)
[character]
success_symbol = "[‚ùØ](bold green)"
error_symbol = "[‚ùØ](bold red)"
vicmd_symbol = "[‚ùÆ](bold green)"
vicmd_replace_symbol = "[‚ñ∂](bold green)"
vicmd_replace_one_symbol = "[‚ñ∂](bold green)"
vicmd_visual_symbol = "[V](bold green)"

# Directory module
[directory]
format = "[$path]($style)[$read_only]($read_only_style) "
style = "cyan"
read_only = " üîí"
read_only_style = "red"
truncation_length = 8
truncate_to_repo = true
truncation_symbol = ""
# Use fish-style path shortening
fish_style_pwd_dir_length = 1

[directory.substitutions]
"Documents" = "Û∞àô "
"Downloads" = " "
"Music" = " "
"Pictures" = " "

# Git Branch
[git_branch]
format = "[ $symbol$branch(:$remote_branch)]($style) "
symbol = " "
style = "bold green"
truncation_length = 32
truncation_symbol = "‚Ä¶"

# Git Commit
[git_commit]
format = "[@$hash]($style) "
style = "green"
only_detached = true
tag_disabled = false
tag_symbol = " üè∑  "

# Git State (rebase, merge, etc.)
[git_state]
format = "[$state( $progress_current/$progress_total)]($style) "
style = "bold red"

# Git Status
[git_status]
format = "([\\[$all_status$ahead_behind\\]]($style) )"
style = "bold yellow"
conflicted = "~${count}"
ahead = "‚á°${count}"
behind = "‚á£${count}"
diverged = "‚á£${ahead_count}‚á°${behind_count}"
untracked = "?${count}"
stashed = "*${count}"
modified = "!${count}"
staged = "+${count}"
renamed = "¬ª${count}"
deleted = "‚úò${count}"

# Git Metrics (insertions/deletions)
[git_metrics]
disabled = false
added_style = "bold green"
deleted_style = "bold red"
format = "([+$added]($added_style) )([-$deleted]($deleted_style) )"

# Command Duration
[cmd_duration]
min_time = 3_000
format = "[$duration]($style) "
style = "yellow"
show_milliseconds = false

# Status (exit code)
[status]
disabled = false
format = "[$symbol$status]($style) "
symbol = "‚úò "
success_symbol = ""
not_executable_symbol = "üö´ "
not_found_symbol = "üîç "
sigint_symbol = "üß± "
signal_symbol = "‚ö° "
style = "bold red"
map_symbol = true
pipestatus = true
pipestatus_separator = "|"
pipestatus_format = "[$symbol$status]($style) "

# Background Jobs
[jobs]
format = "[$symbol$number]($style) "
symbol = "‚ú¶ "
style = "bold blue"
number_threshold = 1
symbol_threshold = 1

# Python
[python]
format = "[${symbol}${pyenv_prefix}(${version} )(\\($virtualenv\\) )]($style)"
symbol = " "
style = "yellow"
pyenv_version_name = false
detect_extensions = ["py"]
detect_files = [".python-version", "Pipfile", "__pycache__", "pyproject.toml", "requirements.txt", "setup.py", "tox.ini"]
detect_folders = []

# Node.js
[nodejs]
format = "[$symbol($version )]($style)"
symbol = " "
style = "bold green"
detect_extensions = ["js", "mjs", "cjs", "ts", "mts", "cts"]
detect_files = ["package.json", ".node-version", ".nvmrc"]
detect_folders = ["node_modules"]

# Golang
[golang]
format = "[$symbol($version )]($style)"
symbol = " "
style = "bold cyan"
detect_extensions = ["go"]
detect_files = ["go.mod", "go.sum", "go.work", "glide.yaml", "Gopkg.yml", "Gopkg.lock", ".go-version"]
detect_folders = ["Godeps"]

# Rust
[rust]
format = "[$symbol($version )]($style)"
symbol = " "
style = "bold red"
detect_extensions = ["rs"]
detect_files = ["Cargo.toml", "Cargo.lock"]
detect_folders = []

# Ruby
[ruby]
format = "[$symbol($version )]($style)"
symbol = " "
style = "bold red"
detect_extensions = ["rb"]
detect_files = ["Gemfile", ".ruby-version"]
detect_folders = []

# Java
[java]
format = "[$symbol($version )]($style)"
symbol = " "
style = "red"
detect_extensions = ["java", "class", "jar", "gradle", "clj", "cljc"]
detect_files = ["pom.xml", "build.gradle.kts", "build.sbt", ".java-version", "deps.edn", "project.clj", "build.boot"]
detect_folders = []

# Lua
[lua]
format = "[$symbol($version )]($style)"
symbol = " "
style = "bold blue"
detect_extensions = ["lua"]
detect_files = [".lua-version"]
detect_folders = ["lua"]

# Perl
[perl]
format = "[$symbol($version )]($style)"
symbol = " "
style = "149"
detect_extensions = ["pl", "pm", "pod"]
detect_files = ["Makefile.PL", "Build.PL", "cpanfile", "cpanfile.snapshot", "META.json", "META.yml", ".perl-version"]
detect_folders = []

# Haskell
[haskell]
format = "[$symbol($version )]($style)"
symbol = " "
style = "bold purple"
detect_extensions = ["hs", "lhs"]
detect_files = ["stack.yaml", "cabal.project"]
detect_folders = []

# Kubernetes
[kubernetes]
format = "[$symbol$context( \\($namespace\\))]($style) "
symbol = "‚ò∏ "
style = "cyan"
disabled = false

[kubernetes.context_aliases]
"dev.local.cluster.k8s" = "dev"

# Terraform
[terraform]
format = "[$symbol$workspace]($style) "
symbol = "üí† "
style = "bold purple"
detect_extensions = ["tf", "tfplan", "tfstate"]
detect_files = []
detect_folders = [".terraform"]

# AWS
[aws]
format = "[$symbol($profile )(\\($region\\) )(\\[$duration\\] )]($style)"
symbol = "‚òÅÔ∏è  "
style = "bold yellow"
disabled = false

# Google Cloud
[gcloud]
format = "[$symbol$account(@$domain)(\\($region\\))]($style) "
symbol = "‚òÅÔ∏è  "
style = "bold blue"
disabled = false

# Azure
[azure]
format = "[$symbol($subscription)]($style) "
symbol = "Ô¥É "
style = "bold blue"
disabled = false

# Direnv
[direnv]
format = "[$symbol$loaded/$allowed]($style) "
symbol = "direnv "
style = "bold orange"
disabled = false
detect_extensions = []
detect_files = [".envrc"]
detect_folders = []
allowed_msg = "allowed"
denied_msg = "denied"
loaded_msg = "loaded"
unloaded_msg = "unloaded"

# Container indicator
[container]
format = "[$symbol \\[$name\\]]($style) "
symbol = "‚¨¢"
style = "bold red dimmed"
disabled = false

# Nix Shell
[nix_shell]
format = "[$symbol$state( \\($name\\))]($style) "
symbol = " "
style = "bold blue"
impure_msg = "impure"
pure_msg = "pure"
disabled = false

# Environment Variable (for displaying context like toolbox, etc.)
[env_var.TOOLBOX_NAME]
format = "[$env_value]($style) "
style = "bold dimmed"
disabled = false

# Line break
[line_break]
disabled = false

# Disable modules not in p10k config
[package]
disabled = true

[battery]
disabled = true

[time]
disabled = true

[username]
disabled = true

[hostname]
disabled = true

[memory_usage]
disabled = true

[shell]
disabled = true

[shlvl]
disabled = true

# Advanced modules that may not have direct p10k equivalents
[conda]
format = "[$symbol$environment]($style) "
symbol = "üÖí "
style = "bold green"

[docker_context]
format = "[$symbol$context]($style) "
symbol = " "
style = "bold blue"
disabled = true

[helm]
disabled = true

[php]
disabled = true

[elixir]
disabled = true

[erlang]
disabled = true

[scala]
disabled = true

[nim]
disabled = true

[ocaml]
disabled = true

[rlang]
disabled = true

[cmake]
disabled = true

[dart]
disabled = true

[deno]
disabled = true

[dotnet]
disabled = true

[crystal]
disabled = true

[buf]
disabled = true

[cobol]
disabled = true

[daml]
disabled = true

[fennel]
disabled = true

[fossil_branch]
disabled = true

[fossil_metrics]
disabled = true

[gradle]
disabled = true

[guix_shell]
disabled = true

[meson]
disabled = true

[opa]
disabled = true

[openstack]
disabled = true

[os]
disabled = true

[pijul_channel]
disabled = true

[pulumi]
disabled = true

[purescript]
disabled = true

[quarto]
disabled = true

[raku]
disabled = true

[red]
disabled = true

[solidity]
disabled = true

[spack]
disabled = true

[sudo]
disabled = true

[swift]
disabled = true

[typst]
disabled = true

[vagrant]
disabled = true

[vcsh]
disabled = true

[vlang]
disabled = true

[zig]
disabled = true
